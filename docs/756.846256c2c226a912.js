"use strict";(self.webpackChunkForMore=self.webpackChunkForMore||[]).push([[756],{5756:(w,m,i)=>{i.r(m),i.d(m,{LogInComponent:()=>T});var _=i(6814),r=i(95),g=i(1120),o=i(4769),p=i(788);function d(e,s){1&e&&(o.TgZ(0,"p"),o._uU(1,"email is required"),o.qZA())}function c(e,s){1&e&&(o.TgZ(0,"p"),o._uU(1,"invalid email"),o.qZA())}function f(e,s){if(1&e&&(o.TgZ(0,"div",14),o.YNc(1,d,2,0,"p",15),o.YNc(2,c,2,0,"p",15),o.qZA()),2&e){const n=o.oxw();let l,t;o.xp6(1),o.Q6J("ngIf",null==(l=n.logForm.get("email"))?null:l.getError("required")),o.xp6(1),o.Q6J("ngIf",null==(t=n.logForm.get("email"))?null:t.getError("email"))}}function h(e,s){1&e&&(o.TgZ(0,"p"),o._uU(1,"password is required"),o.qZA())}function v(e,s){1&e&&(o.TgZ(0,"p"),o._uU(1,"invalid password"),o.qZA())}function I(e,s){if(1&e&&(o.TgZ(0,"div",14),o.YNc(1,h,2,0,"p",15),o.YNc(2,v,2,0,"p",15),o.qZA()),2&e){const n=o.oxw();let l,t;o.xp6(1),o.Q6J("ngIf",null==(l=n.logForm.get("password"))?null:l.getError("required")),o.xp6(1),o.Q6J("ngIf",null==(t=n.logForm.get("password"))?null:t.getError("pattern"))}}function Z(e,s){1&e&&o._UZ(0,"div",16)}let T=(()=>{class e{constructor(n,l){this._AuthService=n,this._Router=l,this.userData={},this.errMessage="",this.isLoading=!1,this.userToken="",this.logForm=new r.cw({email:new r.NI("",[r.kI.required,r.kI.email]),password:new r.NI("",[r.kI.required,r.kI.pattern(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/)])})}handleForm(){this.userData=this.logForm.value,!0===this.logForm.valid&&(this.isLoading=!0,this._AuthService.logInForm(this.userData).subscribe({next:n=>{this._Router.navigate(["/home"]),this.isLoading=!1,this.userToken=n.token,localStorage.setItem("u.token",this.userToken),this._AuthService.userJwt()},error:n=>{this._Router.navigate(["/register"]),this.isLoading=!1}}))}static#o=this.\u0275fac=function(l){return new(l||e)(o.Y36(p.e),o.Y36(g.F0))};static#e=this.\u0275cmp=o.Xpm({type:e,selectors:[["app-log-in"]],standalone:!0,features:[o.jDz],decls:21,vars:5,consts:[[1,"container","pt-3","pb-5"],[1,"px-3","py-4","bgPer","rounded-2","shadow","w-75","mx-auto"],[1,"colorPink","pb-2"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","email",1,"form-label","colorPink"],["type","text","name","email","id","email","placeholder","email...","formControlName","email",1,"form-control"],["class","errors alert alert-danger",4,"ngIf"],["for","password",1,"form-label","colorPink"],["type","password","name","password","id","password","placeholder","password...","formControlName","password",1,"form-control"],[1,"forgot","password"],["routerLink","/forgetPassword","role","button",1,"text-decoration-none","colorPer","fs-6","fw-bold"],["type","submit",1,"main-btn","my-2",3,"disabled"],["class","spinner-border spinner-border-sm","role","status",4,"ngIf"],[1,"errors","alert","alert-danger"],[4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(l,t){if(1&l&&(o.TgZ(0,"section",0)(1,"div",1)(2,"h3",2),o._uU(3,"LogIn Now"),o.qZA(),o.TgZ(4,"form",3),o.NdJ("ngSubmit",function(){return t.handleForm()}),o.TgZ(5,"div",4)(6,"label",5),o._uU(7,"Email"),o.qZA(),o._UZ(8,"input",6),o.YNc(9,f,3,2,"div",7),o.qZA(),o.TgZ(10,"div",4)(11,"label",8),o._uU(12,"Password"),o.qZA(),o._UZ(13,"input",9),o.YNc(14,I,3,2,"div",7),o.qZA(),o.TgZ(15,"div",10)(16,"a",11),o._uU(17,"Forgot Password?"),o.qZA()(),o.TgZ(18,"button",12),o._uU(19,"log In "),o.YNc(20,Z,1,0,"div",13),o.qZA()()()()),2&l){let a,u;o.xp6(4),o.Q6J("formGroup",t.logForm),o.xp6(5),o.Q6J("ngIf",(null==(a=t.logForm.get("email"))?null:a.errors)&&(null==(a=t.logForm.get("email"))?null:a.touched)),o.xp6(5),o.Q6J("ngIf",(null==(u=t.logForm.get("password"))?null:u.errors)&&(null==(u=t.logForm.get("password"))?null:u.touched)),o.xp6(4),o.Q6J("disabled",t.logForm.invalid),o.xp6(2),o.Q6J("ngIf",!0===t.isLoading)}},dependencies:[_.ez,_.O5,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,g.rH]})}return e})()}}]);